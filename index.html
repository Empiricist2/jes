<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <p>Validated Form</p>
    <form id="registrationForm">
        <div>
            <label for="username">Username:</label>
            <input id="username" onchange="validname()">
            <span id="usernameError" class="error"></span>
        </div>
        <br>
        <div>
            <label for="email">Email:</label>
            <input id="email" onchange="validemail()">
            <span id="emailError" class="error"></span>
        </div>
        <br>
        <div>
            <label for="password">Password:</label>
            <input id="password"type="password" onchange="validpass()">
            <span id="passwordError" class="error"></span>
        </div>
        <br>
        <div>
            <label for="confirmPassword">Confirm Password:</label>
            <input id="confirmPassword"type="password" onchange="validconfirm()">
            <span id="confirmPasswordError" class="error"></span>
        </div>
        <br>
        <button type="submit">Submit</button>
        <script>


const form = document.getElementById("registrationForm");
        const username = document.getElementById("username")
        const email = document.getElementById("email")
        const password = document.getElementById("password")
        const confirmPassword = document.getElementById("confirmPassword");
        const usernameError = document.getElementById("usernameError");
        const emailError = document.getElementById("emailError");
        const passwordError = document.getElementById("passwordError");
        const confirmPasswordError = document.getElementById("confirmPasswordError");
    
        const emailformat = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
        const passformat =  /^(?=.[a-z])(?=.[A-Z])(?=.\d)(?=.[!@#\$%\^&])[a-zA-Z0-9!@#\$%\^&]{5,15}$/;
        form.addEventListener("submit", function(victor) {
            
            victor.preventDefault();
    
            let isValid = true;
    
            if (!username.value) {
                usernameError.textContent = "Username  required";
                usernameError.style.color = "lightgreen"
                isValid = false;
            } else {
                usernameError.textContent = "Valid Username";
                usernameError.style.color = "blue"
            }
    
            if (!email.value) {
                emailError.textContent = "Email Required";
                emailError.style.color = "lightgreen";
                isValid = false;
            } else if (!email.value.match(emailformat)) {
                emailError.textContent = "Email is not in the correct format";
                emailerror.style.color = "green";
                isValid = false;
            } else {
                emailError.textContent = " valid email";
                emailError.style.color = "blue";
            }
    
            if (!password.value) {
                passwordError.textContent = "Password Required";
                passwordError.style.color = "lightgreen"
                isValid = false;
            } else if (password.value.match(passformat)) {
                passwordError.textContent = "Password must contain one uppercase, one lowercase, one special character, and must be between 5 and 15 characters long";
                passwordError.style.color = "red"
                isValid = false;
            } else {
                passwordError.textContent = " Strong Password";
                passwordError.style.color = "blue";
            }
    
            if (password.value !== confirmPassword.value) {
                confirmPasswordError.textContent = "Passwords do not match";
                isValid = false;
            } else {
                confirmPasswordError.textContent = "good match";
                confirmPasswordError.style.color ="blue";
            }
    
            if (isValid) {
                form.submit();
            }
        });

        
        function validemail(){
            if (!email.value) {
                emailError.textContent = " Email Required";
                emailError.style.color = "red";
                
            } else if (!email.value.match(emailformat)) {
                emailError.textContent = "Email is not in the correct format ";
                emailError.style.color = "green";
                
                
            } else {
                emailError.textContent = " valid email";
                emailError.style.color = "blue";
            }
        }

        function validpass(){
            if (!password.value) {
                passwordError.textContent = "Password Required";
                passwordError.style.color = "lightgreen"
            } else if (password.value.match(passformat)) {
                passwordError.textContent = "Password must contain one uppercase, one lowercase, one special character, and must be between 5 and 15 characters long";
                passwordError.style.color = "red"
            } else {
                passwordError.textContent = " Strong Password";
                passwordError.style.color = "blue";
            }
        }


        function validname(){
            if (!username.value) {
                usernameError.textContent = "Username  required";
                usernameError.style.color = "red"
            } else {
                usernameError.textContent = "Valid Username";
                usernameError.style.color = "blue"
            }
        }

        function validconfirm(){
            if (password.value !== confirmPassword.value) {
                confirmPasswordError.textContent = "Passwords do not match";
                confirmPasswordError.style.color ="red";
            } else {
                confirmPasswordError.textContent = "good match";
                confirmPasswordError.style.color ="blue";
            }
        }
        </script>
</body>
</html>